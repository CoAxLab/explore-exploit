function simulation_random_agent()
% simulation_random_agent simulates the performance of a random-policy
% (choose randomly on each choice) agent and stores the results in the same
% format as the raw data of participants.

times = 100000;
rng('shuffle');

simudata = zeros(times*45,8);
i = 1; trial = 0;
for repeat = 1:times
    for totalday = 5:10
        trial = trial + 1;
        reward = newrandn(); rstar = reward; avereward = reward;
        simudata(i,:) = [trial,totalday,1,nan,1,reward,rstar,avereward];
        i = i + 1;
        for days = 2:totalday
            action = rand()<0.5;
            reward = (action==1)*newrandn()+(action==0)*rstar;
            avereward = (avereward*(days-1)+reward)/days;
            rstar = max(rstar,reward);
            simudata(i,:) = [trial,totalday,days,nan,action,reward,rstar,avereward];
            i = i + 1;
        end
    end
end
save(['random_agent_simu' num2str(times) '.mat'],'simudata');
end

function r = newrandn()
r = roundn(randn(1)*0.6+3,-1);
if r<1; r=1; end
if r>5; r=5; end
end